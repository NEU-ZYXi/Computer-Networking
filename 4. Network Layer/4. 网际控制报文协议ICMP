
4.4 网际控制报文协议ICMP
  网际控制报文协议(internet control message protocol)：为了更有效地转发IP数据报和提高交付成功的机会
  ICMP允许主机或路由器报告差错情况和提供有关异常情况的报告
  ICMP报文作为IP层数据报的数据，加上数据报的首部，组成IP数据报发送出去
  
  1. ICMP报文的种类
    分为差错报告报文和询问报文
    报文的前4个字节是统一的格式，包括类型、代码和检验和
    
    (1). 差错报告报文
      1). 终点不可达
      2). 源点抑制(source quench)：当路由器或主机由于拥塞而丢弃数据报时，发送源点抑制报文，使源点降低发送速率
      3). 时间超过：路由器收到生存时间为零的数据报
      4). 参数问题
      5). 改变路由，又称重定向(redirect)：主机发往某个目的地址的数据报的最佳路由不应当经过默认路由器而是经过另一个路由器时，发送改变路由报文
      
    (2). 询问报文
      1). 回送请求和回答：由主机或路由器向一个特定的目的主机发出的询问，用来测试目的站是否可达
      2). 时间戳请求和回答：由某个主机或路由器回答当前的日期和时间，用来进行时钟同步和测量时间
  
  
  
