
3.5 扩展的以太网
  1. 在物理层扩展以太网
    (1). 使用光纤扩展主机和集线器之间的距离
    (2). 使用多个集线器可以通过连接实现覆盖更大范围的多级星型结构的以太网，即通过一个主干集线器把各系以太网连接起来
      1). 不同系的以太网上的计算机能够进行通信
      2). 扩大了以太网覆盖的地理范围
      3). 由于碰撞域合并，即在每一个碰撞域中只能有一个站在发送数据，因此最大吞吐量仍然是其中一个系的最大吞吐量
      4). 不能用集线器将使用不同的以太网技术的系互连起来
      
  2. 在数据链路层扩展以太网
    使用网桥(bridge)在数据链路层扩展以太网，网桥根据MAC帧的目的地址对收到的帧进行转发和过滤，即收到一个帧时，先检查目的MAC地址后再选择转发或丢弃
    
    (1). 网桥的结构
      1). 网桥有两个或多个接口，两个以太网通过网桥连接起来后，构成一个覆盖范围更大的以太网，则原来的每个以太网称为网段(segment)
      2). 网桥依靠转发表来转发帧，转发表也称为转发数据库或路由目录
      3). 网桥通过内部的接口管理软件和网桥协议实体来实现
      4). 优点：I. 过滤通信量，增大吞吐量：网桥使各网段有独立的碰撞域，则增大了最大吞吐量
                II. 扩大了物理范围
                III. 提高了可靠性：故障一般只影响部分网段
                IV. 可以互连不同物理层、不同MAC子层和不同速率的以太网
      5). 缺点：I. 网桥对接收的帧要先存储再查找转发表，执行CSMA/CD算法，增加了时延
                II. 在MAC子层没有流量控制功能：当负荷过重时，网桥中缓存的空间不够而导致帧丢失
                III. 只适合用户不多和通信量不大的以太网，否则会由于传播过多的广播信息而产生网络拥塞，发生广播风暴(broadcast storm)
                
    (2). 透明网桥(transparent bridge)
      透明：指以太网上的站点并不知道所发送的帧将经过哪几个网桥，以太网上的站点都不知道以太网上的网桥
      1). 是即插即用设备(plug-and-play device)：只要把网桥接入局域网，不用人工配置转发表网桥就能工作
      2). 自学习算法：当网桥刚连接到以太网时，转发表是空的，使用自学习算法来处理和搜到的帧，并按照转发表把帧转发出去
                     原理：若从某个站A发出的帧从接口x进入网桥，则从这个接口出发沿相反方向一定可以把一个帧传送到A
                     网桥每收到一个帧，记录其源地址和进入网桥的接口，来建立转发表
      
      网桥自学习和转发帧的步骤
      1). 网桥收到一个帧之后先进行自学习，查找转发表中与收到帧的源地址有无相匹配的项目，若没有，则在转发表中增加一个项目，若有，则更新原项目
      2). 查找转发表中与收到的帧的目的地址有无相匹配的项目，若没有，则通过所有其他接口进行转发，若有，则按转发表给出的接口进行转发
      3). 使用生成树算法，即互连在一起的网桥在进行彼此通信后，就能找出原来的网络拓扑的一个子集，在这个子集中，整个连通的网络中不存在回路
          避免产生转发的帧在网络中不停地兜圈子
          
    (3). 源路由网桥(source route bridge)
      由发送帧的源站负责路由选择，即在发送帧时，将路由信息存放在帧的首部中
      
    (4). 多接口网桥，又称以太网交换机
      以太网交换机的每个接口都直接与一个单个主机或另一个集线器相连，交换机能同时连通许多对接口，使每一对相互通信的主机独占通信媒体，无碰撞地传输数据
      


